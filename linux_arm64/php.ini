; ============================================================================
; PHP Configuration File for OpenEMR Static Binary
; ============================================================================
; This file is used by the OpenEMR web server launcher.
; You can customize PHP settings by editing this file.
;
; Location: linux_arm64/php.ini
; ============================================================================

; ----------------------------------------------------------------------------
; Memory Settings
; ----------------------------------------------------------------------------
; Memory limit - increased for large PHAR files (~278MB) and OpenEMR operations
; Increase this if you encounter "memory exhausted" errors
memory_limit = 1024M

; Maximum memory for a single script execution
; Can be set to -1 for unlimited (not recommended in production)
max_input_vars = 10000

; ----------------------------------------------------------------------------
; Execution Time Settings
; ----------------------------------------------------------------------------
; Maximum execution time (0 = no limit)
; Set to a reasonable value for production (e.g., 300 = 5 minutes)
max_execution_time = 0

; Maximum input time (0 = no limit)
max_input_time = 0

; ----------------------------------------------------------------------------
; File Upload Settings
; ----------------------------------------------------------------------------
; Maximum file upload size
upload_max_filesize = 50M

; Maximum number of files that can be uploaded simultaneously
max_file_uploads = 20

; Maximum post data size (should be >= upload_max_filesize)
post_max_size = 50M

; ----------------------------------------------------------------------------
; Error Reporting (Production Settings)
; ----------------------------------------------------------------------------
; Display errors - set to Off in production
display_errors = Off
display_startup_errors = Off

; Log errors - recommended for production
log_errors = On
error_log = /tmp/openemr_php_errors.log

; Error reporting level
; E_ALL = all errors, E_ALL & ~E_DEPRECATED = exclude deprecation warnings
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT

; ----------------------------------------------------------------------------
; Date/Time Settings
; ----------------------------------------------------------------------------
; Default timezone - change to your local timezone
; Examples: America/New_York, Europe/London, Asia/Tokyo
; See: https://www.php.net/manual/en/timezones.php
date.timezone = UTC

; ----------------------------------------------------------------------------
; Session Settings
; ----------------------------------------------------------------------------
; Session lifetime (in seconds, 1440 = 24 minutes)
session.gc_maxlifetime = 1440

; Session cookie settings
session.cookie_httponly = 1
session.cookie_secure = 0
session.use_only_cookies = 1

; ----------------------------------------------------------------------------
; Security Settings
; ----------------------------------------------------------------------------
; Disable dangerous functions in production
; disable_functions = exec,passthru,shell_exec,system,proc_open,popen

; Allow URL includes - set to Off for security
allow_url_fopen = On
allow_url_include = Off

; ----------------------------------------------------------------------------
; OpenEMR Specific Settings
; ----------------------------------------------------------------------------
; Note: Memory limit is set above (1024M) for OpenEMR's needs
; Extensions are compiled into the static binary, no need to load them
; extension_dir = "./"

; ============================================================================
; Custom Settings
; ============================================================================
; Add your custom PHP settings below this line
; Example: session.save_path = "/tmp/openemr_sessions"

